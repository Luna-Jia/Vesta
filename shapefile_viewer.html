<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shapefile Viewer with Bootstrap</title>
    <!-- External CSS libraries -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/indexStyle.css">
    <!-- External JS libraries -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://unpkg.com/shapefile@0.6.6/dist/shapefile.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <!-- Main sidebar -->
    <div id="mainSidebar" class="main-sidebar">
        <!-- Hamburger menu icon -->
        <a href="javascript:void(0)" onclick="toggleSecondaryNav()">
            <i class="fas fa-bars"></i>
        </a>
        
        <!-- Import button with icon -->
        <a href="javascript:void(0)" onclick="showImportOptions()">
            <img src="assets/dataIcon.png" alt="Import Data" class="sidebar-icon">
            <span class="menu-text">Import Data</span>
        </a>
        
        <!-- Visualizations button with icon -->
        <a href="javascript:void(0)" onclick="showVisualizationOptions()">
            <img src="assets/scatterPlotIcon.png" alt="Visualizations" class="sidebar-icon">
            <span class="menu-text">Visualizations</span>
        </a>

        <!-- Home button with icon -->
        <a href="vestaHome.html">
            <img src="assets/homeIcon.png" alt="Home" class="sidebar-icon">
            <span class="menu-text">Home</span>
        </a>
    </div>

    <!-- Secondary sidebar -->
    <div id="secondarySidebar" class="secondary-sidebar">
        <!-- Import section -->
        <div id="importSection" style="display: none;">
            <div class="mb-3">
                <label for="shpFile" class="form-label">Select .shp file:</label>
                <input type="file" class="form-control" id="shpFile" accept=".shp">
            </div>
            <div class="mb-3">
                <label for="dbfFile" class="form-label">Select .dbf file:</label>
                <input type="file" class="form-control" id="dbfFile" accept=".dbf">
            </div>
            <button onclick="processShapefile()" class="btn btn-primary">Upload and Render</button>
        </div>  

        <div id="fileVariablesSection" style="display: none;">
            <div id="fileNameToggle" class="file-toggle">
                <span id="fileName"></span>
                <i class="fas fa-chevron-down"></i>
            </div>
            <ul id="variableList" class="variable-list"></ul>
        </div>

         <!-- Visualization buttons section -->
        <div id="visualizationButtons" style="display: none;">
            <!-- Map button with icon -->
            <a href="#" onclick="showMap()">
                <img src="assets/mapIcon.png" alt="Map" class="sidebar-icon">
                <span>Map</span>
            </a>
            <!-- Table button with icon -->
            <a href="#" onclick="showTable()">
                <img src="assets/tableIcon.png" alt="Table" class="sidebar-icon">
                <span>Table</span>
            </a>
            <!-- Histogram button with icon -->
            <a href="#" onclick="selectHistogramProperty()">
                <img src="assets/histogramIcon.png" alt="Histogram" class="sidebar-icon">
                <span>Histogram</span>
            </a>
             <!-- Scatter Plot button with icon -->
            <a href="#" onclick="showScatterPlot()">
                <img src="assets/scatterPlotIcon.png" alt="Scatter Plot" class="sidebar-icon">
                <span>Scatter Plot</span>
            </a>
            <a href="#" onclick="showCumulativeDistribution()">
                <img src="assets/cdPlotIcon.png" alt="Cumulative Distribution Plot" class="sidebar-icon">
                <span>Cumulative Distribution Plot</span>
            </a>
            <a href="#" onclick="showHeatmap()">
                <img src="assets/heatmapIcon.png" alt="Heatmap" class="sidebar-icon">
                <span>Heatmap</span>
            </a>
            <a href="#" onclick="showBoxPlot()">
                <img src="assets/boxPlotIcon.png" alt="Box Plot" class="sidebar-icon">
                <span>Box Plot</span>
            </a>
            <a href="#" onclick="show3DScatter()">
                <img src="assets/threeDScatterPlotIcon.png" alt="3D Scatter" class="sidebar-icon">
                <span>3D Scatter</span>
            </a>
        </div>
    </div>

    <div id="main">
        <div id="workspaces">
            <div class="workspace active" id="workspace1">
                <span class="workspace-name">Workspace 1</span>
                <button class="close-workspace">&times;</button>
            </div>
            <button id="addWorkspace">+</button>
        </div>
        <div id="workspaceContents">
            <div class="workspace-content active" id="workspaceContent1">
                <!-- Content for Workspace 1 -->
                <div class="row mb-3">
                    <div class="col-md-4">
                        <div id="propertySelectContainer1"></div>
                    </div>
                    <div class="col-md-4">
                        <div id="histogramPropertySelectContainer1"></div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div id="map1" class="map"></div>
                    </div>
                    <div class="col-md-6">
                        <div id="histogram1" class="histogram"></div>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-12">
                        <div id="tableContainer1" class="tableContainer"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/visualizations.js"></script>
    <script src="js/workspace.js"></script>
</body>
</html>